[{"id":"36fd0e07.9c0472","type":"tab","label":"General","disabled":false,"info":""},{"id":"21a9d5f6.f2a35a","type":"tab","label":"Leds Acuario (casa/NODEMCU-20181021)","disabled":false,"info":""},{"id":"9386d5f4.7244d8","type":"tab","label":"Luz Acuario (NODEMCU-20190307)","disabled":false,"info":""},{"id":"530e146.08508ec","type":"tab","label":"Encendido Remoto (casa/NODEMCU-20190202)","disabled":false,"info":""},{"id":"442427b5.ec9068","type":"tab","label":"Tests","disabled":false,"info":""},{"id":"4164523d.920bac","type":"tab","label":"Alexa","disabled":false,"info":""},{"id":"8ccb418d.785fa","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"e6c3f560.7c2178","type":"mqtt-broker","z":"","name":"Mosquitto en Raspberry Pi 3b+ de casa","broker":"mosquitto","port":"1883","clientid":"localhost_client","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"a13945bd.27d9b8","type":"ui_tab","z":"","name":"Temp/Hum","icon":"dashboard","order":3},{"id":"218b0e33.371732","type":"ui_group","z":"","name":"Salon","tab":"a13945bd.27d9b8","order":1,"disp":true,"width":"7","collapse":true},{"id":"22124546.1e8aea","type":"ui_group","z":"","name":"Control Animacion","tab":"b647316c.06b08","order":3,"disp":true,"width":"7","collapse":false},{"id":"b647316c.06b08","type":"ui_tab","z":"","name":"Leds Acuario","icon":"dashboard","order":1},{"id":"958673b.1159b9","type":"ui_group","z":"","name":"Configuracion Reloj","tab":"b647316c.06b08","order":1,"disp":true,"width":"7","collapse":false},{"id":"c9a410ed.ac8e5","type":"ui_group","z":"","name":"Control LDR","tab":"b647316c.06b08","order":4,"disp":true,"width":"7","collapse":false},{"id":"73103368.6539bc","type":"ui_group","z":"","name":"Configuracion","tab":"b647316c.06b08","order":5,"disp":true,"width":"7","collapse":false},{"id":"86ab3678.b7e628","type":"ui_group","z":"","name":"Temporizador","tab":"b647316c.06b08","order":2,"disp":true,"width":"7","collapse":false},{"id":"39e30d99.7701e2","type":"ui_tab","z":"","name":"I7","icon":"dashboard","order":4},{"id":"7ca72d88.61ec64","type":"ui_group","z":"","name":"Estado","tab":"39e30d99.7701e2","order":1,"disp":true,"width":"7","collapse":false},{"id":"5febb435.ff816c","type":"ui_tab","z":"","name":"Tests","icon":"dashboard","order":5},{"id":"ab654110.a82ce","type":"ui_tab","z":"","name":"Luz Acuario","icon":"dashboard","order":2},{"id":"91b94aca.ddd1b8","type":"ui_group","z":"","name":"Controles","tab":"ab654110.a82ce","order":2,"disp":true,"width":"6","collapse":false},{"id":"9dbe974f.274518","type":"ui_group","z":"","name":"Temporizador","tab":"ab654110.a82ce","order":1,"disp":true,"width":"6","collapse":false},{"id":"83d0a520.2b2cc8","type":"alexa-home-conf","z":"","username":"usuario"},{"id":"8c77c724.a77cf8","type":"mqtt-broker","z":"","name":"prueba sonoff espurna","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"90a4ab3e.76f938","type":"alexa-home-conf","z":"","username":"antsala"},{"id":"3aab964d.b73c9a","type":"ui_group","z":"","name":"Status","tab":"b647316c.06b08","order":6,"disp":true,"width":"6","collapse":false},{"id":"f915bea6.3c97f","type":"ui_group","z":"","name":"Status","tab":"ab654110.a82ce","order":3,"disp":true,"width":"6","collapse":false},{"id":"bbfa5ef0.cc359","type":"ui_group","z":"","name":"Status","tab":"39e30d99.7701e2","order":2,"disp":true,"width":"6","collapse":false},{"id":"4d3c8820.595598","type":"ui_group","z":"","name":"Status1 (LEDs Acuario)","tab":"5febb435.ff816c","order":1,"disp":true,"width":"6","collapse":false},{"id":"2bd905bb.13773a","type":"ui_group","z":"","name":"Status2 (LUZ Acuario)","tab":"5febb435.ff816c","order":2,"disp":true,"width":"6","collapse":false},{"id":"7f050834.4268c8","type":"ui_group","z":"","name":"Status3 (I7)","tab":"5febb435.ff816c","order":3,"disp":true,"width":"6","collapse":false},{"id":"4bdae63e.c1a898","type":"ui_gauge","z":"21a9d5f6.f2a35a","name":"Temperatura actual en el sal�n","group":"218b0e33.371732","order":1,"width":0,"height":0,"gtype":"gage","title":"Temperatura actual","label":"� C","format":"{{value}}","min":"-20","max":"60","colors":["#0000ff","#2bc422","#ca3838"],"seg1":"12","seg2":"32","x":850,"y":340,"wires":[]},{"id":"e37a83af.67753","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/temperatura","qos":"2","datatype":"auto","broker":"e6c3f560.7c2178","x":440,"y":340,"wires":[["4bdae63e.c1a898","5267e9f6.3d4828"]]},{"id":"5267e9f6.3d4828","type":"ui_chart","z":"21a9d5f6.f2a35a","name":"Evolucion (24h)","group":"218b0e33.371732","order":3,"width":"6","height":"7","label":"Evoluci�n 24 horas","chartType":"line","legend":"true","xformat":"HH:mm","interpolate":"linear","nodata":"No hay datos aun!!!","dot":false,"ymin":"-20","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff0000","#0000ff","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":800,"y":440,"wires":[[]]},{"id":"bf5d901c.c1e82","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/humedad","qos":"2","broker":"e6c3f560.7c2178","x":440,"y":540,"wires":[["52ff9180.383cb","5267e9f6.3d4828"]]},{"id":"52ff9180.383cb","type":"ui_gauge","z":"21a9d5f6.f2a35a","name":"Humedad actual en el sal�n","group":"218b0e33.371732","order":2,"width":0,"height":0,"gtype":"gage","title":"Humedad actual","label":"%","format":"{{value}}","min":"0","max":"100","colors":["#a8a5da","#6268b9","#3f3f83"],"seg1":"30","seg2":"60","x":840,"y":540,"wires":[]},{"id":"84dcd0d3.78721","type":"ui_dropdown","z":"21a9d5f6.f2a35a","name":"Seleccion de la Animacion","label":"Animacion","tooltip":"","place":"","group":"22124546.1e8aea","order":2,"width":"0","height":"0","passthru":false,"options":[{"label":"Circular Rainbow","value":0,"type":"num"},{"label":"Rainbow Cycle","value":"1","type":"str"},{"label":"Color Wipe","value":"2","type":"str"},{"label":"Theather Chase","value":"3","type":"str"},{"label":"Random Cycle","value":"4","type":"str"},{"label":"Random ON/OFF","value":"5","type":"str"},{"label":"Random ON/OFF Fadding","value":"6","type":"str"}],"payload":"","topic":"","x":580,"y":1300,"wires":[["8774eea3.28138"]]},{"id":"8774eea3.28138","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/animationid","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1120,"y":1300,"wires":[]},{"id":"3cc9607f.85f69","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Intervalo animacion","label":"Velocidad","tooltip":"","group":"22124546.1e8aea","order":3,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"0","max":"400","step":"10","x":550,"y":1400,"wires":[["6e4327ac.8fa618"]]},{"id":"6e4327ac.8fa618","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/interval","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1140,"y":1400,"wires":[]},{"id":"b06e43c6.17ec5","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Seleccion Color1","label":"Color1","tooltip":"","group":"22124546.1e8aea","order":4,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"380","max":"750","step":"1","x":550,"y":1500,"wires":[["29588fef.c1b0e"]]},{"id":"29588fef.c1b0e","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/color1","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1140,"y":1500,"wires":[]},{"id":"866f163f.2cbde8","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/color2","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1140,"y":1580,"wires":[]},{"id":"a237641a.5f1d78","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Seleccion Color2","label":"Color2","tooltip":"","group":"22124546.1e8aea","order":5,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"380","max":"750","step":"1","x":550,"y":1580,"wires":[["866f163f.2cbde8"]]},{"id":"e587854.f1d8678","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/bright1","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1140,"y":1660,"wires":[]},{"id":"506ba9f8.b95b58","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Seleccion Brillo1","label":"Brillo1","tooltip":"","group":"22124546.1e8aea","order":6,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"0","max":"100","step":"5","x":550,"y":1660,"wires":[["e587854.f1d8678"]]},{"id":"57d6d814.727688","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/bright2","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1140,"y":1740,"wires":[]},{"id":"1f2d2432.017efc","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Seleccion Brillo2","label":"Brillo2","tooltip":"","group":"22124546.1e8aea","order":7,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"0","max":"100","step":"5","x":550,"y":1740,"wires":[["57d6d814.727688"]]},{"id":"6ffb5a4e.9108c4","type":"ui_switch","z":"21a9d5f6.f2a35a","name":"LDR Switch","label":"LDR","group":"c9a410ed.ac8e5","order":1,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":610,"y":1820,"wires":[["2ff6fabf.118266"]]},{"id":"2ff6fabf.118266","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/ldr","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1150,"y":1820,"wires":[]},{"id":"69581e53.41e53","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/ldr_fire_threshold","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1100,"y":1900,"wires":[]},{"id":"47ac0e02.bde73","type":"ui_slider","z":"21a9d5f6.f2a35a","name":"Seleccion threshold LDR","label":"Nivel LDR","tooltip":"","group":"c9a410ed.ac8e5","order":2,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":"0","max":"1000","step":"10","x":630,"y":1900,"wires":[["69581e53.41e53"]]},{"id":"bdb71f26.c8791","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/animationid_refresh","qos":"0","broker":"e6c3f560.7c2178","x":240,"y":1300,"wires":[["84dcd0d3.78721"]]},{"id":"1f5edfcb.6c08b","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/eeprom_reset_data","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1100,"y":2260,"wires":[]},{"id":"9b044674.40ab88","type":"ui_button","z":"21a9d5f6.f2a35a","name":"Reset EEPROM","group":"73103368.6539bc","order":1,"width":0,"height":0,"passthru":true,"label":"Reset","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":620,"y":2260,"wires":[["1f5edfcb.6c08b"]]},{"id":"75941be4.27ec84","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/bright1_refresh","qos":"0","broker":"e6c3f560.7c2178","x":230,"y":1660,"wires":[["506ba9f8.b95b58"]]},{"id":"4a2f8f4a.351b8","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/bright2_refresh","qos":"0","broker":"e6c3f560.7c2178","x":230,"y":1740,"wires":[["1f2d2432.017efc"]]},{"id":"22fd063b.6a1daa","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/interval_refresh","qos":"0","broker":"e6c3f560.7c2178","x":230,"y":1400,"wires":[["3cc9607f.85f69"]]},{"id":"a9b4f183.22e43","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/color1_refresh","qos":"0","broker":"e6c3f560.7c2178","x":220,"y":1500,"wires":[["b06e43c6.17ec5"]]},{"id":"b1546074.8a502","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/color2_refresh","qos":"0","broker":"e6c3f560.7c2178","x":220,"y":1580,"wires":[["a237641a.5f1d78"]]},{"id":"fe43e5cd.48acd8","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/ldr_refresh","qos":"0","broker":"e6c3f560.7c2178","x":210,"y":1820,"wires":[["6ffb5a4e.9108c4"]]},{"id":"a07af7df.3a30a8","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/ldr_fire_threshold_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":1900,"wires":[["47ac0e02.bde73"]]},{"id":"89f207b0.0c8308","type":"ui_numeric","z":"21a9d5f6.f2a35a","name":"","label":"Hora inicio","group":"86ab3678.b7e628","order":2,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"23","step":1,"x":630,"y":920,"wires":[["1d18cf80.379471"]]},{"id":"5d242ee9.fc70c","type":"ui_numeric","z":"21a9d5f6.f2a35a","name":"","label":"Minutos inicio","group":"86ab3678.b7e628","order":3,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"59","step":1,"x":640,"y":1020,"wires":[["bd373f28.ddbaf"]]},{"id":"88b678b9.37c088","type":"ui_numeric","z":"21a9d5f6.f2a35a","name":"","label":"Duracion en minutos","tooltip":"","group":"86ab3678.b7e628","order":4,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"1440","step":1,"x":660,"y":1120,"wires":[["f5554db9.e39f5"]]},{"id":"8ff99374.f8287","type":"ui_switch","z":"21a9d5f6.f2a35a","name":"","label":"Activar temporizador","group":"86ab3678.b7e628","order":1,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":660,"y":800,"wires":[["d41e476f.101838"]]},{"id":"15c0e258.eb270e","type":"ui_text","z":"21a9d5f6.f2a35a","group":"86ab3678.b7e628","order":0,"width":0,"height":0,"name":"","label":"Activado","format":"{{msg.payload}}","layout":"row-spread","x":620,"y":1220,"wires":[]},{"id":"76ac8fd9.b4bb4","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_enabled_refresh","qos":"0","broker":"e6c3f560.7c2178","x":250,"y":800,"wires":[["8ff99374.f8287"]]},{"id":"d41e476f.101838","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_enabled","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1110,"y":800,"wires":[]},{"id":"1d18cf80.379471","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_initial_hours","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1100,"y":920,"wires":[]},{"id":"34629dfb.948032","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_initial_hours_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":920,"wires":[["89f207b0.0c8308"]]},{"id":"bd373f28.ddbaf","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_initial_minutes","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1090,"y":1020,"wires":[]},{"id":"948e1c3c.2366b","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_initial_minutes_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":1020,"wires":[["5d242ee9.fc70c"]]},{"id":"f5554db9.e39f5","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_duration","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1110,"y":1120,"wires":[]},{"id":"5dd79c78.bc22b4","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_duration_refresh","qos":"0","broker":"e6c3f560.7c2178","x":250,"y":1120,"wires":[["88b678b9.37c088"]]},{"id":"e6d3149c.bc4ef8","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/timer_state","qos":"0","broker":"e6c3f560.7c2178","x":210,"y":1220,"wires":[["15c0e258.eb270e"]]},{"id":"a109cc34.7929","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/power_on_status_refresh","qos":"0","broker":"e6c3f560.7c2178","x":320,"y":220,"wires":[["b29751ea.e8bdb"]]},{"id":"b29751ea.e8bdb","type":"ui_text","z":"530e146.08508ec","group":"7ca72d88.61ec64","order":1,"width":0,"height":0,"name":"","label":"El Ordenador esta: ","format":"{{msg.payload}}","layout":"row-spread","x":790,"y":220,"wires":[]},{"id":"486442b8.ad48cc","type":"ui_button","z":"530e146.08508ec","name":"","group":"7ca72d88.61ec64","order":3,"width":0,"height":0,"passthru":false,"label":"POWER SWITCH","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"str","topic":"","x":770,"y":440,"wires":[["143157de.704278"]]},{"id":"143157de.704278","type":"mqtt out","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/power_switch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1080,"y":440,"wires":[]},{"id":"8f97afa7.f5921","type":"ui_button","z":"530e146.08508ec","name":"","group":"7ca72d88.61ec64","order":5,"width":0,"height":0,"passthru":false,"label":"RESET SWITCH","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"str","topic":"","x":770,"y":640,"wires":[["77df8fd9.7a951"]]},{"id":"77df8fd9.7a951","type":"mqtt out","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/reset_switch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1100,"y":640,"wires":[]},{"id":"ab5712a6.9346b","type":"ui_text_input","z":"530e146.08508ec","name":"","label":"Password","group":"7ca72d88.61ec64","order":2,"width":0,"height":0,"passthru":true,"mode":"text","delay":"100","topic":"","x":740,"y":340,"wires":[["2ba1e1ef.26840e"]]},{"id":"2ba1e1ef.26840e","type":"mqtt out","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/password","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1090,"y":340,"wires":[]},{"id":"3607dd6e.acd4c2","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/password_refresh","qos":"0","broker":"e6c3f560.7c2178","x":290,"y":340,"wires":[["ab5712a6.9346b"]]},{"id":"15eea211.7b31ee","type":"ui_button","z":"530e146.08508ec","name":"","group":"7ca72d88.61ec64","order":4,"width":0,"height":0,"passthru":false,"label":"HARD POWER SWITCH","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"str","topic":"","x":790,"y":540,"wires":[["df9ee7f9.0f73f8"]]},{"id":"df9ee7f9.0f73f8","type":"mqtt out","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/hard_power_switch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1100,"y":540,"wires":[]},{"id":"abf19cc3.5786a","type":"inject","z":"36fd0e07.9c0472","name":"","topic":"casa/time_source","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":210,"y":120,"wires":[["c5007194.a745b"]]},{"id":"55798e42.d8253","type":"mqtt out","z":"36fd0e07.9c0472","name":"","topic":"casa/time_source","qos":"0","retain":"","broker":"e6c3f560.7c2178","x":1210,"y":280,"wires":[]},{"id":"5a4fdb4a.351d54","type":"function","z":"36fd0e07.9c0472","name":"A�ade huso horario Espa�a (+1)","func":"msg.payload = msg.payload + 3600 * 2\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":280,"wires":[["55798e42.d8253"]]},{"id":"c5007194.a745b","type":"function","z":"36fd0e07.9c0472","name":"Convierte a segundos","func":"msg.payload = msg.payload / 1000;\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":280,"wires":[["5a4fdb4a.351d54"]]},{"id":"8c4d2c26.7945a","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20190307/masterSwitch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1200,"y":220,"wires":[]},{"id":"d79ebb3d.cfe558","type":"function","z":"4164523d.920bac","name":"Convierte tipo","func":"if (msg.payload === true) {\n    msg.payload = \"1\";\n} else {\n    msg.payload = \"0\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":220,"wires":[["8c4d2c26.7945a"]]},{"id":"cb441721.6417a8","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57605","acknoledge":true,"name":"Luz del acuario","topic":"","x":300,"y":220,"wires":[["d79ebb3d.cfe558","360b2150.cea37e"]]},{"id":"d8385f89.edc33","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57789","acknoledge":true,"name":"Velocidad de la animaci�n","topic":"","x":330,"y":720,"wires":[["753b92cd.1a6c3c"]]},{"id":"753b92cd.1a6c3c","type":"function","z":"4164523d.920bac","name":"Conversi�n de escala","func":"// Alexa manda del 0 al 100%\n// El dispositivo gestiona la velocidad de 0 a 400,\n// Siendo 0 la m�s r�pida y 400 la m�s lenta.\n\n// 0% equivale a 400\n// 100% equivale a 0\nmsg.payload = 400 - 4 * msg.payload\n\nreturn msg;","outputs":1,"noerr":0,"x":640,"y":720,"wires":[["474631d5.440de"]]},{"id":"474631d5.440de","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/interval","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1040,"y":720,"wires":[]},{"id":"2539482f.64aae8","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57796","acknoledge":true,"name":"Color principal","topic":"","x":290,"y":820,"wires":[["1192cae8.c97185"]]},{"id":"1192cae8.c97185","type":"function","z":"4164523d.920bac","name":"Conversi�n Hue a Longitud de onda","func":"// El dispositivo trabaja con la longitud de onda de \n// de colores ( de 308nm a 750nm), siendo el rojo\n// el de mayor longitud y el violeta el de menor.\n//\n// Alexa usa el hue, donde el rojo es 0 y el\n// violeta el 300.\n\n// Hago una proporci�n entre las dos magnitudes.\n// En principo algo comprimido hasta el amarillo.\n\nMINHUE = 0;\nMAXHUE = 300;\n\nMINLAMBDA = 380;\nMAXLAMBDA = 650;\n\ny = msg.payload.hue;\n\n// el HUE 60 (amarillo) necesita extender la\n// escala\nif (y < 60)\n    MAXLAMBDA = 750;\n\nlambda = MINLAMBDA + (y - MAXHUE) * (MAXLAMBDA - MINLAMBDA) / (MINHUE - MAXHUE);\n\nif (lambda < MINLAMBDA)\n    lambda = MINLAMBDA;\n    \nif (lambda > MAXLAMBDA)\n    lambda = MAXLAMBDA;\n   \nmsg.payload = lambda;\n\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":820,"wires":[["d0b1d7c8.63ecc8"]]},{"id":"d0b1d7c8.63ecc8","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/color1","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1040,"y":820,"wires":[]},{"id":"8ac56898.4164c8","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57828","acknoledge":true,"name":"Color secundario","topic":"","x":300,"y":920,"wires":[["3ac9aa36.f2c826"]]},{"id":"362e74d9.7f9ebc","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/color2","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1040,"y":920,"wires":[]},{"id":"c1a7b2fa.d839e","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57831","acknoledge":true,"name":"Brillo principal","topic":"","x":290,"y":1100,"wires":[["c937287d.b3f428"]]},{"id":"c937287d.b3f428","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/bright1","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1040,"y":1100,"wires":[]},{"id":"fe6de1ed.fc904","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57832","acknoledge":true,"name":"Brillo secundario","topic":"","x":300,"y":1180,"wires":[["3bf7441a.1f34ec"]]},{"id":"3bf7441a.1f34ec","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/bright2","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1040,"y":1180,"wires":[]},{"id":"7dfa8b71.429df4","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/ldr","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1030,"y":1280,"wires":[]},{"id":"e5057b46.2c28e8","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57833","acknoledge":true,"name":"LDR","topic":"","x":270,"y":1280,"wires":[["a59d547b.2032b8"]]},{"id":"a59d547b.2032b8","type":"function","z":"4164523d.920bac","name":"Convierte tipo","func":"if (msg.payload === true) {\n    msg.payload = \"1\";\n} else {\n    msg.payload = \"0\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":620,"y":1280,"wires":[["7dfa8b71.429df4"]]},{"id":"32a0c88.60dda38","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57836","acknoledge":true,"name":"Nivel LDR","topic":"","x":280,"y":1380,"wires":[["8a4b485a.6e3ca8"]]},{"id":"8a4b485a.6e3ca8","type":"function","z":"4164523d.920bac","name":"Conversi�n de escala","func":"// Alexa manda del 0 al 100%\n// El dispositivo gestiona el sensor LDR de 0 a 1000\n\nmsg.payload =  msg.payload * 10;\n\nreturn msg;","outputs":1,"noerr":0,"x":620,"y":1380,"wires":[["ab943a46.3edfd8"]]},{"id":"ab943a46.3edfd8","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/ldr_fire_threshold","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1080,"y":1380,"wires":[]},{"id":"3ac9aa36.f2c826","type":"function","z":"4164523d.920bac","name":"Conversi�n Hue a Longitud de onda","func":"// El dispositivo trabaja con la longitud de onda de \n// de colores ( de 308nm a 750nm), siendo el rojo\n// el de mayor longitud y el violeta el de menor.\n//\n// Alexa usa el hue, donde el rojo es 0 y el\n// violeta el 300.\n\n// Hago una proporci�n entre las dos magnitudes.\n// En principo algo comprimido hasta el amarillo.\n\nMINHUE = 0;\nMAXHUE = 300;\n\nMINLAMBDA = 380;\nMAXLAMBDA = 650;\n\ny = msg.payload.hue;\n\n// el HUE 60 (amarillo) necesita extender la\n// escala\nif (y < 60)\n    MAXLAMBDA = 750;\n\nlambda = MINLAMBDA + (y - MAXHUE) * (MAXLAMBDA - MINLAMBDA) / (MINHUE - MAXHUE);\n\nif (lambda < MINLAMBDA)\n    lambda = MINLAMBDA;\n    \nif (lambda > MAXLAMBDA)\n    lambda = MAXLAMBDA;\n   \nmsg.payload = lambda;\n\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":920,"wires":[["362e74d9.7f9ebc"]]},{"id":"5bc8ab95.cf1dd4","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57837","acknoledge":true,"name":"Animaci�n","topic":"","x":280,"y":1520,"wires":[["e508ef0a.fec34"]]},{"id":"3bb192b6.25956e","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/animationid","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1060,"y":1520,"wires":[]},{"id":"e508ef0a.fec34","type":"function","z":"4164523d.920bac","name":"Limitar animaci�n Id de 0 a 6","func":"// Alexa manda del 0 al 100%\n// Si no digo \"por ciento\" devuelve el valor\n// pero el 0 no lo recoge bien\n// as� que limito las id del 1 al 7\n// y le resto 1 para mandarselo al dispositivo.\n\nif (msg.payload > 7)\n    msg.payload = 7;\n    \n// Devuelvo uno menos.\nmsg.payload = msg.payload - 1;\n    \nreturn msg;","outputs":1,"noerr":0,"x":640,"y":1520,"wires":[["3bb192b6.25956e"]]},{"id":"c66e7c31.e86f5","type":"ui_switch","z":"21a9d5f6.f2a35a","name":"Master Switch","label":"Master Switch","group":"22124546.1e8aea","order":1,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":600,"y":2120,"wires":[["f7de2ba9.7973f8"]]},{"id":"f7de2ba9.7973f8","type":"mqtt out","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/masterSwitch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1120,"y":2120,"wires":[]},{"id":"69d712b1.64e47c","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/masterSwitch_refresh","qos":"0","broker":"e6c3f560.7c2178","x":250,"y":2120,"wires":[["c66e7c31.e86f5"]]},{"id":"360b2150.cea37e","type":"function","z":"4164523d.920bac","name":"Convierte tipo negando l�gica","func":"if (msg.payload === false) {\n    msg.payload = \"1\";\n} else {\n    msg.payload = \"0\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":340,"wires":[["25b9d823.446b38"]]},{"id":"6efef262.d6ddcc","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"57963","acknoledge":true,"name":"Leds del acuario","topic":"","x":300,"y":560,"wires":[["c3c249d.fcba5b8","2c468cea.3aa0e4"]]},{"id":"2c468cea.3aa0e4","type":"function","z":"4164523d.920bac","name":"Convierte tipo negando l�gica","func":"if (msg.payload === false) {\n    msg.payload = \"1\";\n} else {\n    msg.payload = \"0\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":440,"wires":[["339c70f.24f0f9"]]},{"id":"c3c249d.fcba5b8","type":"function","z":"4164523d.920bac","name":"Convierte tipo","func":"if (msg.payload === true) {\n    msg.payload = \"1\";\n} else {\n    msg.payload = \"0\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":560,"wires":[["76aa26ae.2a9398"]]},{"id":"76aa26ae.2a9398","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/masterSwitch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1220,"y":560,"wires":[]},{"id":"b3988792.69d958","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/eeprom_reset_data","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1080,"y":1620,"wires":[]},{"id":"37b517e5.d7f3b8","type":"alexa-home","z":"4164523d.920bac","conf":"90a4ab3e.76f938","device":"58141","acknoledge":true,"name":"Resetea acuario","topic":"","x":300,"y":1620,"wires":[["b3988792.69d958"]]},{"id":"339c70f.24f0f9","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20181021/timer_enabled","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1210,"y":440,"wires":[]},{"id":"25b9d823.446b38","type":"mqtt out","z":"4164523d.920bac","name":"","topic":"casa/NODEMCU-20190307/timer_enabled","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1190,"y":340,"wires":[]},{"id":"c596e9c6.683458","type":"ui_text","z":"21a9d5f6.f2a35a","group":"3aab964d.b73c9a","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":580,"y":2420,"wires":[]},{"id":"36865b44.d72474","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":2420,"wires":[["c596e9c6.683458"]]},{"id":"dcbc6acf.257648","type":"ui_text","z":"21a9d5f6.f2a35a","group":"3aab964d.b73c9a","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":580,"y":2480,"wires":[]},{"id":"2ce1ed8e.8a7062","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":250,"y":2480,"wires":[["dcbc6acf.257648"]]},{"id":"4c556b78.c4d2c4","type":"ui_text","z":"21a9d5f6.f2a35a","group":"3aab964d.b73c9a","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":590,"y":2540,"wires":[]},{"id":"8da549da.965978","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":2540,"wires":[["4c556b78.c4d2c4"]]},{"id":"f36c1e65.454c1","type":"ui_text","z":"21a9d5f6.f2a35a","group":"3aab964d.b73c9a","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":590,"y":2600,"wires":[]},{"id":"b8e2718c.9d506","type":"mqtt in","z":"21a9d5f6.f2a35a","name":"","topic":"casa/NODEMCU-20181021/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":2600,"wires":[["f36c1e65.454c1"]]},{"id":"e6a0415a.75767","type":"ui_text","z":"530e146.08508ec","group":"bbfa5ef0.cc359","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":850,"y":800,"wires":[]},{"id":"618df680.3e4568","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":310,"y":800,"wires":[["e6a0415a.75767"]]},{"id":"abaa4259.63c3a","type":"ui_text","z":"530e146.08508ec","group":"bbfa5ef0.cc359","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":840,"y":860,"wires":[]},{"id":"339981f4.49084e","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":300,"y":860,"wires":[["abaa4259.63c3a"]]},{"id":"bdbef64b.5d34e8","type":"ui_text","z":"530e146.08508ec","group":"bbfa5ef0.cc359","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":850,"y":920,"wires":[]},{"id":"b6b8a671.887538","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":320,"y":920,"wires":[["bdbef64b.5d34e8"]]},{"id":"b2918b73.7d2c38","type":"ui_text","z":"530e146.08508ec","group":"bbfa5ef0.cc359","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":850,"y":980,"wires":[]},{"id":"637798cf.59f848","type":"mqtt in","z":"530e146.08508ec","name":"","topic":"casa/NODEMCU-20190202/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":310,"y":980,"wires":[["b2918b73.7d2c38"]]},{"id":"b1ef74c0.602fa8","type":"ui_text","z":"442427b5.ec9068","group":"4d3c8820.595598","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":120,"wires":[]},{"id":"ca6e8832.21ac28","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20181021/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":120,"wires":[["b1ef74c0.602fa8"]]},{"id":"6d74122e.7e323c","type":"ui_text","z":"442427b5.ec9068","group":"4d3c8820.595598","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":180,"wires":[]},{"id":"3f9eb731.c95eb8","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20181021/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":180,"wires":[["6d74122e.7e323c"]]},{"id":"102fee86.7a95d1","type":"ui_text","z":"442427b5.ec9068","group":"4d3c8820.595598","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":820,"y":240,"wires":[]},{"id":"da5f35ec.0297c8","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20181021/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":240,"wires":[["102fee86.7a95d1"]]},{"id":"746d99b.6589168","type":"ui_text","z":"442427b5.ec9068","group":"4d3c8820.595598","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":820,"y":300,"wires":[]},{"id":"92713a9f.3eff88","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20181021/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":300,"wires":[["746d99b.6589168"]]},{"id":"53c47f8e.93e7e","type":"ui_text","z":"442427b5.ec9068","group":"2bd905bb.13773a","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":440,"wires":[]},{"id":"5755f32e.6a57ec","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190307/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":440,"wires":[["53c47f8e.93e7e"]]},{"id":"8d14cf13.7d6f","type":"ui_text","z":"442427b5.ec9068","group":"2bd905bb.13773a","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":500,"wires":[]},{"id":"9e67d088.ae9b9","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190307/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":500,"wires":[["8d14cf13.7d6f"]]},{"id":"9e592d1a.b61d","type":"ui_text","z":"442427b5.ec9068","group":"2bd905bb.13773a","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":820,"y":560,"wires":[]},{"id":"feb4820.9b8018","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190307/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":560,"wires":[["9e592d1a.b61d"]]},{"id":"4888fdb3.2d17d4","type":"ui_text","z":"442427b5.ec9068","group":"2bd905bb.13773a","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":820,"y":620,"wires":[]},{"id":"b1bf6fee.08345","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190307/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":620,"wires":[["4888fdb3.2d17d4"]]},{"id":"be2dd08e.764ef","type":"ui_text","z":"442427b5.ec9068","group":"7f050834.4268c8","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":760,"wires":[]},{"id":"2c7ce448.b03c9c","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190202/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":760,"wires":[["be2dd08e.764ef"]]},{"id":"385a7954.ddaef6","type":"ui_text","z":"442427b5.ec9068","group":"7f050834.4268c8","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":800,"y":820,"wires":[]},{"id":"eab583fd.3b746","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190202/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":820,"wires":[["385a7954.ddaef6"]]},{"id":"b3768ac3.7ebbb8","type":"ui_text","z":"442427b5.ec9068","group":"7f050834.4268c8","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":880,"wires":[]},{"id":"8d5e05a9.ace2a8","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190202/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":880,"wires":[["b3768ac3.7ebbb8"]]},{"id":"5648bed1.6a145","type":"ui_text","z":"442427b5.ec9068","group":"7f050834.4268c8","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":940,"wires":[]},{"id":"ce28362a.af9958","type":"mqtt in","z":"442427b5.ec9068","name":"","topic":"casa/NODEMCU-20190202/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":940,"wires":[["5648bed1.6a145"]]},{"id":"8c84f22a.3be8b","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/power_on_status_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":1200,"wires":[["977b098.ad340f8"]]},{"id":"977b098.ad340f8","type":"ui_text","z":"9386d5f4.7244d8","group":"91b94aca.ddd1b8","order":2,"width":0,"height":0,"name":"","label":"El rele esta: ","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":1200,"wires":[]},{"id":"82de440e.d7aa48","type":"ui_numeric","z":"9386d5f4.7244d8","name":"","label":"Hora inicio","group":"9dbe974f.274518","order":2,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"23","step":1,"x":670,"y":740,"wires":[["868bbbd4.8bf778"]]},{"id":"18b9b327.074add","type":"ui_numeric","z":"9386d5f4.7244d8","name":"","label":"Minutos inicio","group":"9dbe974f.274518","order":3,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"59","step":1,"x":680,"y":840,"wires":[["9e82277c.8c0778"]]},{"id":"17d1cd1c.551c33","type":"ui_numeric","z":"9386d5f4.7244d8","name":"","label":"Duracion en minutos","tooltip":"","group":"9dbe974f.274518","order":4,"width":0,"height":0,"passthru":false,"topic":"","format":"{{value}}","min":0,"max":"1440","step":1,"x":700,"y":940,"wires":[["53315226.85f33c"]]},{"id":"2eb45644.89ab3a","type":"ui_switch","z":"9386d5f4.7244d8","name":"","label":"Activar temporizador","group":"9dbe974f.274518","order":1,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":680,"y":620,"wires":[["2ed71126.20a82e"]]},{"id":"fe252d8e.832fa","type":"ui_text","z":"9386d5f4.7244d8","group":"9dbe974f.274518","order":5,"width":0,"height":0,"name":"","label":"Activado","format":"{{msg.payload}}","layout":"row-spread","x":660,"y":1040,"wires":[]},{"id":"4255dd26.474754","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_enabled_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":620,"wires":[["2eb45644.89ab3a"]]},{"id":"2ed71126.20a82e","type":"mqtt out","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_enabled","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1130,"y":620,"wires":[]},{"id":"868bbbd4.8bf778","type":"mqtt out","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_initial_hours","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1120,"y":740,"wires":[]},{"id":"a61cc81c.da50f8","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_initial_hours_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":740,"wires":[["82de440e.d7aa48"]]},{"id":"9e82277c.8c0778","type":"mqtt out","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_initial_minutes","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1110,"y":840,"wires":[]},{"id":"df5fc7cf.a309b8","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_initial_minutes_refresh","qos":"0","broker":"e6c3f560.7c2178","x":290,"y":840,"wires":[["18b9b327.074add"]]},{"id":"53315226.85f33c","type":"mqtt out","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_duration","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1130,"y":940,"wires":[]},{"id":"31486d7b.1c34f2","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_duration_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":940,"wires":[["17d1cd1c.551c33"]]},{"id":"142934ed.8c4bcb","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/timer_state","qos":"0","broker":"e6c3f560.7c2178","x":240,"y":1040,"wires":[["fe252d8e.832fa"]]},{"id":"8a79e15e.a6db1","type":"ui_switch","z":"9386d5f4.7244d8","name":"Master Switch","label":"Master Switch","group":"91b94aca.ddd1b8","order":1,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":660,"y":1520,"wires":[["a09b587d.f6ea28"]]},{"id":"a09b587d.f6ea28","type":"mqtt out","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/masterSwitch","qos":"2","retain":"","broker":"e6c3f560.7c2178","x":1200,"y":1520,"wires":[]},{"id":"96c4b178.b5755","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/masterSwitch_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":1520,"wires":[["8a79e15e.a6db1"]]},{"id":"37c7b803.f8cc58","type":"ui_text","z":"9386d5f4.7244d8","group":"f915bea6.3c97f","order":0,"width":0,"height":0,"name":"status Date","label":"","format":"{{msg.payload}}","layout":"row-spread","x":610,"y":1680,"wires":[]},{"id":"b98b4431.56b038","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/status_date_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":1680,"wires":[["37c7b803.f8cc58"]]},{"id":"f6e74af1.60fc48","type":"ui_text","z":"9386d5f4.7244d8","group":"f915bea6.3c97f","order":0,"width":0,"height":0,"name":"mqtt ID","label":"","format":"{{msg.payload}}","layout":"row-spread","x":610,"y":1740,"wires":[]},{"id":"3e653ee2.d3ca12","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/mqtt_ID_refresh","qos":"0","broker":"e6c3f560.7c2178","x":260,"y":1740,"wires":[["f6e74af1.60fc48"]]},{"id":"83848696.89a908","type":"ui_text","z":"9386d5f4.7244d8","group":"f915bea6.3c97f","order":0,"width":0,"height":0,"name":"mqtt Last Op","label":"","format":"{{msg.payload}}","layout":"row-spread","x":620,"y":1800,"wires":[]},{"id":"b6391e17.fbb84","type":"ui_text","z":"9386d5f4.7244d8","group":"f915bea6.3c97f","order":0,"width":0,"height":0,"name":"WiFi Signal","label":"","format":"{{msg.payload}}","layout":"row-spread","x":620,"y":1860,"wires":[]},{"id":"891d446d.bbc7c8","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/wifi_signal_refresh","qos":"0","broker":"e6c3f560.7c2178","x":270,"y":1860,"wires":[["b6391e17.fbb84"]]},{"id":"3910048f.2981ec","type":"mqtt in","z":"9386d5f4.7244d8","name":"","topic":"casa/NODEMCU-20190307/mqtt_Last_Op_refresh","qos":"0","broker":"e6c3f560.7c2178","x":280,"y":1800,"wires":[["83848696.89a908"]]}]